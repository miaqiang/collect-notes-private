> sql注入原理

就是通过把SQL命令插入到Web表单递交或输入域名或页面请求的查询字符串，最终达到欺骗服务器执行恶意的SQL命名。

总的来说有以下几点：

- 永远不要信任用户的输入，要对用户的输入进行校验，可以通过正则表达式，或限制长度，对单引号和双“-”进行转换等。
- 永远不要使用动态拼接SQL。可以使用参数化的SQL或直接使用存储过程进行数据查询存取。
- 永远不要使用管理员权限的数据库连接，为每个应用单独的权限有限的数据库连接。
- 不要把机密信息明文存放，请加密或hash掉密码和敏感的信息。


> XSS 原理及防范

XSS（cross-site scripting）攻击指的是攻击者往web页面里插入恶意html标签或者JavaScript代码。比如，攻击者在论坛里放一个看似安全的链接，骗取用户点击后，窃取cookie中的用户私密信息；或者攻击者在论坛中加一个恶意表单，

当用户提交表单的时候，却把信息传送到攻击者的服务器中，而不是用户原本以为的信任站点。

> XSS 防范方法

首先代码里对用户输入的地方和变量都需要仔细检查长度和对“<”,">","",''等字符做过滤，其次任何内容写到页面之前都必须加以encode，避免不小心把HTML tag弄出来。这一个层面做好，至少可以堵住超过一半的xss攻击。

- 首先，避免直接在cookie中泄露用户隐私，例如email、密码等。

- 其次，避免使用cookie和系统ip绑定来降低cookie泄露后的危险。这样攻击者得到的cookie没有实际价值，不可能拿来重放。

- 如果网站不需要在浏览器端对cookie进行操作，可以在set-cookie末尾加上httpOnly来防止JavaScript代码直接获取cookie。

- 尽量采用POST而非get提交表单


> XSS 和CSRF有什么区别吗

XSS是获取信息，不需要提前通知其他用户页面的代码和数据包。CSRF是代替用户完成指定的动作，需要知道其他用户页面的代码和数据包。

要完成一次CSRF攻击，受害者必须依次完成两个步骤：

- 登陆授受信任网站A，并在本地生成Cookie。
- 在不登出A的情况下，访问危险网站B


> CSRF的防御

- 服务端的CSRF方式方法很多样，但总的思路都是一致的，就是在客户端页面增加伪随机数，
- 通过验证码的方法